Главная страница (show):
1. Get запрос на https://localhost:3000 
2. Роут обрабатывает его и выдает "Home page"
3. Сервер определяет что должно быть на данной странице и делает выборку из БД (select * from products)
4. Срабатывает метод show из контроллера products
5. Сервер помещяет все в HTML темплейт и возвращяет пользоватю.
6. На стороне пользователя это все рендерится.

Выбор определенного товара ( show where product id = 1):
1. Делает запрос https://localhost:3000/product/id1
2. Срабатывает роут и видим что была запрошена страница из таблицы products
3. Метод с контроллере products обращяется к БД
4. select id from product where id = 1 
5. Все столбцы данных которые были получены из БД передаются с HTML темплейт
6. Запрос возвращяется пользователю и рендерится данный товар.

Добавления товара (.new method as admin):
1. Вызывается метод create из контроллера products.
2. Срабатывает роут и проверяет есть ли такой путь.
3. Срабатывает коллбек который вызывает следующий метод "admin?"
4. Метод "admin?" определяет %username% по его id 
5. Cмотрит есть ли у него права админа в таблице user в колонке admin.
5.1 Если нет роут возвращяет метод POST с главной страницей https://localhost:3000
5.2 Если права есть роут возвращяет POST с HTML темлейтом для создания нового товара (localhost:3000/new)
6. После обработки запроса в контроллере срабатывает метод save 
7. insert into product (<name>, <price>, <thumbnail>, <img>) values (<value1>, <value2>...)
8. После успешного создания товара роутим админа на данный товар с этим id.

Удаление товара (destroy method):
1. Вызывается метод destroy на каком-то товаре.
2. Роут смотрит есть ли такой путь у него.
3. Срабатывает коллбек на проверку админа. Если все ок идем дальше, если нет роутим пользователя на главную.
4. Срабатывает коллбек :before_action для подверждения.
5. Метод destroy ищет в БД id товара.
6. desrtoy product where id=5
7. Роутим админа на главную с сообщением что данный товар удалился.

favorite page:
1. Срабатывает роут на проверку есть ли такой путь.
2. Метод show из контроллера favorites, обращяется к БД.
3. select * from favorites where user_id = 1
4. Все собранные данные помещяются в HTML темлпет и возвращяется пользователю.

add to favorites:
1. Роут проверяет наличие пути FavoritesConroller#add => method post
2. insert into favorite (<product_id>) where (<user_id>) ???
3. JSON возвращяет сообщение о добавления товара в избранное.

delete from favorites:
1. Роут проверяет наличие пути FavoritesController#destroy => destroy method
2. destroy product_id from favorites where user_id = 1
3. JSON возвращяет сообщение об удалении товара из избранного.